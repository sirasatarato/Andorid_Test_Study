# Test

## 좋은 테스트 조건
1. 읽기 쉬운 코드
2. 구조화가 잘된 코드
3. 독립적인 테스트
4. 절대 실패하거나 성공하지 않는 테스트가 아닌 테스트

## 테스트 더블
1. 테스트 대상 코드를 격리(독립적인 코드 유지)
2. 테스트 속도 개선
3. 예특 불가능한 실행요소 제거
4. 특수한 상황 시뮬레이션
5. 감추어진 정보 얻음
    - 테스트 대상 코드와 협력 객체 사이의 상호작용 확인

#### 종류
1. 스텁
    - 끝이 잘렸거나 유난히 짧은 것
    - 원래의 구현을 최대한 단순한 것으로 대체하는 것
    - void 메소드, 하드코딩된 값만 반환하는 메소드
2. 가짜 객체
    - 진짜 객체를 흉내낸 객체
    - 진짜 객체를 사용할 때 생기는 부수 효과나 연쇄 동작이 일어나지 않도록 경량화하고 최적화한 것
    - void 메소드, 객체를 반환하는 메소드에서 null을 반환하는 메소드 
3. 스파이
    - 입력 인자로 사용되는 객체가 테스트에 필요한 정보를 알여주는 API를 제공하지 않을 때 유용
4. Mock
    - 특수한 형태의 스파이
    - 특정 조건이 발생하면 미리 약속된 행동을 취함

#### 사용주의
1. 용도에 맞는 더블을 사용
    - Mock: 두 객체간 상호작용의 결과로 특정 메소드가 호출되었는지 확인
    - 스파이: Mock 객체를 사용하였는데 테스트 코드가 깔끔하지 않음
    - 스텁: 형력 객체가 대상 객체에 넘겨줄 응답도 테스트에서 통제 가능
    - 가짜 객체: 다수의 스텁을 사용하는데 시나리오가 너무 복잡해 관리가 어려움
    - 이도 저도 아니면 동전의 앞면은 Mock, 뒷면은 스텁, 6000분의 1은 가짜 객체
2. 준비, 시작, 단언(AAA, arrange-act-assert) 규칙 지키기

